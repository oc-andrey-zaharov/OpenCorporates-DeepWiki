@import "tailwindcss";

/* Define dark mode variant */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

:root {
  /* Light mode color palette */
  --background: #F8F7F6; /* Solid background color */
  --foreground: #333333; /* Soft black for text */
  --shadow-color: rgba(0, 0, 0, 0.05);
  --accent-primary: #B8605D; /* Reddish terracotta */
  --accent-secondary: #d7c4bb; /* Soft beige (Kinari) */
  --border-color: #d3d3d3; /* Light gray for dashed borders */
  --card-bg: #fffaf0; /* Slightly warmer than background */
  --highlight: #e8927c; /* Soft coral (Akane) */
  --muted: #a59e8c; /* Soft gray-brown (Nezumi) */
  --link-color: #9D4F4C; /* Slightly darker terracotta for links */
}

html[data-theme='dark'] {
  /* Dark mode color palette */
  --background: #101010; /* Dark background */
  --foreground: #f0f0f0; /* Soft white */
  --shadow-color: rgba(0, 0, 0, 0.2);
  --accent-primary: #C87370; /* Lighter terracotta for dark mode */
  --accent-secondary: #5d4037; /* Warm brown */
  --border-color: #404040; /* Dark gray for dashed borders */
  --card-bg: #222222; /* Slightly lighter than background */
  --highlight: #e57373; /* Soft red */
  --muted: #8c8c8c; /* Muted gray */
  --link-color: #D8958F; /* Lighter terracotta for dark mode links */
}

/* Fix for unreadable <select> options in Chrome's dark mode */
[data-theme="dark"] select option {
  background: var(--background);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Apply background to both html and body to ensure full coverage */
html, body {
  background: var(--background);
  color: var(--foreground);
}

body {
  font-family: var(--font-sans), sans-serif;
}

/* Ensure background covers the entire viewport */
html {
  min-height: 100%;
}

body {
  min-height: 100vh;
}

/* Ensure main containers use the theme background */
#__next {
  background: var(--background);
  min-height: 100vh;
}

/* Apply to common container classes */
.container, .main, .content {
  background: var(--background);
}

/* Base background for major containers while still allowing utility overrides */
body, html, #root, #__next, [data-theme="light"], [data-theme="dark"] {
  background-color: var(--background);
  background: var(--background);
}

/* Custom shadow styles */
.shadow-custom {
  box-shadow: 0 4px 8px -2px var(--shadow-color);
}

/* Paper texture background - only apply to main containers, not buttons */
body .paper-texture:not(button):not(.bg-\[var\(--accent-primary\)\]):not(.bg-\[var\(--highlight\)\]) {
  background-color: var(--background) !important;
  background-image: none !important;
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes floatPulse {
  0%, 100% {
    transform: translateY(0);
    opacity: 0.85;
  }
  50% {
    transform: translateY(-6px);
    opacity: 1;
  }
}


/* Line clamp utilities */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}
