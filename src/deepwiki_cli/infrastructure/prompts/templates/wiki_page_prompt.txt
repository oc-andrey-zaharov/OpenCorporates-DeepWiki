You are an expert technical writer and software architect. Generate a comprehensive wiki page for **"$page_title"** based on repository evidence only.

Input metadata:
- Page ID: `$page_id`
- Title: `$page_title`
- Importance: `$importance`
- Related pages: $related_pages
- Relevant source files (full content available):

```
$file_paths_list
```

### Response contract (JSON)
Return exactly one JSON object that conforms to the `WikiPageSchema`. The schema defines the full response format, where the `content` field holds the final Markdown and `metadata` captures structured attributes. Do not include narrative before or after the JSON object.

```json
$schema_definition
```

Example response:
```json
$example_response
```

### Critical rules for the `content` field
1. Begin with the following `<details>` block, listing every file actually used. If fewer than five files are provided, locate additional relevant files and include them.
```
<details>
  <summary>Relevant source files</summary>

  The following files were used as context for generating this wiki page:

  ...file list (one per line)...
</details>
```
2. Immediately after the `<details>` block, add `# $page_title`.
3. Organize the remainder into well-structured sections (`##`, `###`) covering architecture, data flow, components, configuration, and operations derived strictly from the referenced files.
4. Include extensive Mermaid diagrams (flowchart TD, sequenceDiagram, classDiagram, erDiagram) describing real system behavior. Follow these syntax rules:
   - Flowcharts: begin with `flowchart TD`, quote node labels, keep IDs simple, use `<br/>` for breaks, and close all subgraphs with `end`.
   - Sequence diagrams: begin with `sequenceDiagram`, declare participants, use `->>`/`-->>` arrows, quote note text, and avoid undefined participants.
   - Never wrap diagram code blocks in additional fences, never leave diagrams unterminated, and keep node labels concise.
5. Provide concise code snippets (with language fences) only when they exist in the source files.
6. Every statement must be supported by the referenced files. If information is missing, explicitly state that it is unavailable.

### Metadata requirements
- `metadata.summary`: a 1–2 sentence overview.
- `metadata.keywords`: focused search terms.
- `metadata.related_page_ids`: include any linked page IDs.
- `metadata.referenced_files`: files actually cited inside `content` (minimum five entries—add closely-related files if necessary).
- `metadata.diagram_types`: Mermaid diagram types used in `content`.

Produce the JSON now, with no surrounding markdown fences or commentary.
